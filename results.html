<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>预测结果 - 林分预测系统</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="container mt-4">
        <div class="card shadow mb-4">
            <div class="card-header bg-primary text-white">
                <h2 class="text-center">{{ species }}林分预测结果</h2>
                <div class="text-center">
                    <span class="badge bg-info me-2">地位级指数 (SCI): {{ sci }}</span>
                    <span class="badge bg-info">林分密度指数 (SDI): {{ sdi }}</span>
                </div>
            </div>

            <div class="card-body">
                <div class="alert alert-success">
                    <h4>预测结果图表</h4>
                    <p>以下图表展示了林分在不同年龄的发展动态</p>
                </div>

                <div class="row mb-4">
                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-header bg-success text-white">
                                林分蓄积量变化
                            </div>
                            <div class="card-body text-center">
                                <img src="{{ url_for('static', filename='images/' + img_files[0]) }}" alt="林分蓄积量变化"
                                    class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-header bg-success text-white">
                                平均树高变化
                            </div>
                            <div class="card-body text-center">
                                <img src="{{ url_for('static', filename='images/' + img_files[1]) }}" alt="平均树高变化"
                                    class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-header bg-success text-white">
                                林分断面积变化
                            </div>
                            <div class="card-body text-center">
                                <img src="{{ url_for('static', filename='images/' + img_files[2]) }}" alt="林分断面积变化"
                                    class="img-fluid">
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6 mb-3">
                        <div class="card h-100">
                            <div class="card-header bg-success text-white">
                                林分密度变化
                            </div>
                            <div class="card-body text-center">
                                <img src="{{ url_for('static', filename='images/' + img_files[3]) }}" alt="林分密度变化"
                                    class="img-fluid">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert alert-info mt-4">
                    <h4>详细预测数据</h4>
                    <p>以下表格展示了林分从20年到80年（每5年）的各项指标预测值</p>
                </div>

                <div class="table-responsive table-container">
                    <table class="table table-striped table-bordered text-center align-middle">
                        <colgroup>
                            <col style="width: 8%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 10%">
                            <col style="width: 7%">
                            <col style="width: 5%">
                        </colgroup>
                        {{ table_html|safe }}
                    </table>
                </div>

                <div class="d-grid gap-2 mt-4">
                    <a href="/" class="btn btn-lg btn-primary">返回主页</a>
                </div>
            </div>

            <div class="card-footer text-center text-muted">
                <small>预测时间: {{ now.strftime('%Y-%m-%d %H:%M:%S') }}</small>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>